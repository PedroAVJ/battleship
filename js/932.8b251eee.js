"use strict";(self["webpackChunkbattleship"]=self["webpackChunkbattleship"]||[]).push([[932],{3566:function(t,i,m){m.r(i),m.d(i,{default:function(){return q}});var e=m(3396),_=m(4870),o=m(6006),s=m(7139),r=m(3069),S=m(7627),a=m(5022),E=m(5962),T=(0,e.aZ)({__name:"EnemySquare",props:{tile:null,row:null,col:null},setup(t){const i=t,m=(0,S.oR)(),o=(0,e.Fl)((()=>i.tile.background.isWater?"water":i.tile.background.isLand?"land":i.tile.background.isOutOfBounds?"out-of-bounds":void 0));function T(){if(m.state.computer.hasCurrentTurn)return;const t=m.state.computer.board,e=m.state.player.board;if((0,E.gg)(i.row,i.col,t))return;if(m.state.player.isUsingSubmarineAbility){for(let e=i.row-1;e<=i.row+1;e++)for(let _=i.col-1;_<=i.col+1;_++){if((0,E.gg)(e,_,t))continue;const i=t[e][_];if(void 0!==i.ship){const t=JSON.parse(JSON.stringify(i));t.contains.uncoveredShip=!0,m.commit(r.mm.SET_COMPUTER_TILE,{row:e,col:_,tile:t})}else{if(i.contains.missedShot)continue;if(i.contains.successfulShot)continue;if(i.contains.uncoveredShip)continue;const t=JSON.parse(JSON.stringify(i));t.contains.missedShot=!0,m.commit(r.mm.SET_COMPUTER_TILE,{row:e,col:_,tile:t})}}for(let t=0;t<e.length;t++)for(let i=0;i<e[t].length;i++)if(e[t][i].ship?.name===r.JY.SUBMARINE){const _=JSON.parse(JSON.stringify(e[t][i]));_.contains.uncoveredShip=!0,m.commit(r.mm.SET_PLAYER_TILE,{row:t,col:i,tile:_})}m.commit(r.mm.SET_PLAYER_HAS_USED_SUBMARINE_ABILITY,!0),m.commit(r.mm.SET_PLAYER_IS_USING_SUBMARINE_ABILITY,!1)}else if(m.state.player.isUsingBattleshipAbility){for(let e=i.row-1;e<=i.row+1;e++)for(let _=i.col-1;_<=i.col+1;_++){if((0,E.gg)(e,_,t))continue;const i=t[e][_];if(void 0!==i.ship){const t=JSON.parse(JSON.stringify(i));t.contains.successfulShot=!0,m.commit(r.mm.SET_COMPUTER_TILE,{row:e,col:_,tile:t}),i.ship?.name===r.JY.AIRCRAFT_CARRIER?m.commit(r.mm.SET_COMPUTER_AIRCRAFT_CARRIER_HEALTH,m.state.computer.aircraftCarrierHealth-1):i.ship?.name===r.JY.BATTLESHIP?m.commit(r.mm.SET_COMPUTER_BATTLESHIP_HEALTH,m.state.computer.battleshipHealth-1):i.ship?.name===r.JY.SUBMARINE&&m.commit(r.mm.SET_COMPUTER_HAS_USED_SUBMARINE_ABILITY,!0)}else{const t=JSON.parse(JSON.stringify(i));t.contains.missedShot=!0,m.commit(r.mm.SET_COMPUTER_TILE,{row:e,col:_,tile:t})}}for(let t=0;t<e.length;t++)for(let i=0;i<e[t].length;i++)if(e[t][i].ship?.name===r.JY.BATTLESHIP){const _=JSON.parse(JSON.stringify(e[t][i]));_.contains.uncoveredShip=!0,m.commit(r.mm.SET_PLAYER_TILE,{row:t,col:i,tile:_})}m.commit(r.mm.SET_PLAYER_HAS_USED_BATTLESHIP_ABILITY,!0),m.commit(r.mm.SET_PLAYER_IS_USING_BATTLESHIP_ABILITY,!1)}else if(m.state.player.isUsingAircraftCarrierAbility){const _=t[i.row][i.col],o=JSON.parse(JSON.stringify(_));void 0!==o.ship?(o.contains.successfulShot=!0,_.ship?.name===r.JY.AIRCRAFT_CARRIER?m.commit(r.mm.SET_COMPUTER_AIRCRAFT_CARRIER_HEALTH,m.state.computer.aircraftCarrierHealth-1):_.ship?.name===r.JY.BATTLESHIP?m.commit(r.mm.SET_COMPUTER_BATTLESHIP_HEALTH,m.state.computer.battleshipHealth-1):_.ship?.name===r.JY.SUBMARINE&&m.commit(r.mm.SET_COMPUTER_HAS_USED_SUBMARINE_ABILITY,!0)):o.contains.missedShot=!0,m.commit(r.mm.SET_COMPUTER_TILE,{row:i.row,col:i.col,tile:o}),m.commit(r.mm.SET_PLAYER_AIRCRAFT_CARRIER_SHOTS,m.state.player.aircraftCarrierShots-1);let s=!0;for(let i=0;i<t.length;i++)for(let m=0;m<t[i].length;m++)if(void 0!==t[i][m].ship&&!t[i][m].contains.successfulShot){s=!1;break}if(s)return m.commit(r.mm.SET_GAME_IS_IN_PROGRESS,!1),void m.commit(r.mm.SET_PLAYER_HAS_WON_THE_GAME,!0);if(m.state.player.aircraftCarrierShots>0)return;for(let t=0;t<e.length;t++)for(let i=0;i<e[t].length;i++)if(e[t][i].ship?.name===r.JY.AIRCRAFT_CARRIER){const _=JSON.parse(JSON.stringify(e[t][i]));_.contains.uncoveredShip=!0,m.commit(r.mm.SET_PLAYER_TILE,{row:t,col:i,tile:_})}m.commit(r.mm.SET_PLAYER_HAS_USED_AIRCRAFT_CARRIER_ABILITY,!0),m.commit(r.mm.SET_PLAYER_IS_USING_AIRCRAFT_CARRIER_ABILITY,!1)}else{const e=t[i.row][i.col],_=JSON.parse(JSON.stringify(e));void 0!==_.ship?(_.contains.successfulShot=!0,e.ship?.name===r.JY.AIRCRAFT_CARRIER?m.commit(r.mm.SET_COMPUTER_AIRCRAFT_CARRIER_HEALTH,m.state.computer.aircraftCarrierHealth-1):e.ship?.name===r.JY.BATTLESHIP?m.commit(r.mm.SET_COMPUTER_BATTLESHIP_HEALTH,m.state.computer.battleshipHealth-1):e.ship?.name===r.JY.SUBMARINE&&m.commit(r.mm.SET_COMPUTER_HAS_USED_SUBMARINE_ABILITY,!0)):_.contains.missedShot=!0,m.commit(r.mm.SET_COMPUTER_TILE,{row:i.row,col:i.col,tile:_})}0===m.state.computer.aircraftCarrierHealth?m.commit(r.mm.SET_COMPUTER_HAS_USED_AIRCRAFT_CARRIER_ABILITY,!0):0===m.state.computer.battleshipHealth&&m.commit(r.mm.SET_COMPUTER_HAS_USED_BATTLESHIP_ABILITY,!0);let _=!0;for(let i=0;i<t.length;i++)for(let m=0;m<t[i].length;m++)if(void 0!==t[i][m].ship&&!t[i][m].contains.successfulShot){_=!1;break}if(_)return m.commit(r.mm.SET_GAME_IS_IN_PROGRESS,!1),void m.commit(r.mm.SET_PLAYER_HAS_WON_THE_GAME,!0);if(m.commit(r.mm.SET_PLAYER_HAS_CURRENT_TURN,!1),m.commit(r.mm.SET_COMPUTER_HAS_CURRENT_TURN,!0),m.state.computer.hasUsedAircraftCarrierAbility?m.state.computer.hasUsedBattleshipAbility?m.state.computer.hasUsedSubmarineAbility||m.commit(r.mm.SET_COMPUTER_IS_USING_SUBMARINE_ABILITY,!0):m.commit(r.mm.SET_COMPUTER_IS_USING_BATTLESHIP_ABILITY,!0):m.commit(r.mm.SET_COMPUTER_IS_USING_AIRCRAFT_CARRIER_ABILITY,!0),m.state.computer.isUsingSubmarineAbility){const i=(0,E.tV)(e);for(let t=i.row-1;t<=i.row+1;t++)for(let _=i.col-1;_<=i.col+1;_++){if((0,E.gg)(t,_,e))continue;const i=e[t][_];if(void 0!==i.ship){const e=JSON.parse(JSON.stringify(i));e.contains.uncoveredShip=!0,m.commit(r.mm.SET_PLAYER_TILE,{row:t,col:_,tile:e})}else{if(i.contains.missedShot)continue;if(i.contains.successfulShot)continue;if(i.contains.uncoveredShip)continue;const e=JSON.parse(JSON.stringify(i));e.contains.missedShot=!0,m.commit(r.mm.SET_PLAYER_TILE,{row:t,col:_,tile:e})}}for(let e=0;e<t.length;e++)for(let i=0;i<t[e].length;i++)if(t[e][i].ship?.name===r.JY.SUBMARINE){const _=JSON.parse(JSON.stringify(t[e][i]));_.contains.uncoveredShip=!0,m.commit(r.mm.SET_COMPUTER_TILE,{row:e,col:i,tile:_})}m.commit(r.mm.SET_COMPUTER_HAS_USED_SUBMARINE_ABILITY,!0),m.commit(r.mm.SET_COMPUTER_IS_USING_SUBMARINE_ABILITY,!1)}else if(m.state.computer.isUsingBattleshipAbility){const i=(0,E.tV)(e);for(let t=i.row-1;t<=i.row+1;t++)for(let _=i.col-1;_<=i.col+1;_++){if((0,E.gg)(t,_,e))continue;const i=e[t][_];if(!i.contains.missedShot&&!i.contains.successfulShot)if(void 0!==i.ship){const e=JSON.parse(JSON.stringify(i));e.contains.successfulShot=!0,m.commit(r.mm.SET_PLAYER_TILE,{row:t,col:_,tile:e}),i.ship?.name===r.JY.AIRCRAFT_CARRIER?m.commit(r.mm.SET_PLAYER_AIRCRAFT_CARRIER_HEALTH,m.state.player.aircraftCarrierHealth-1):i.ship?.name===r.JY.BATTLESHIP?m.commit(r.mm.SET_PLAYER_BATTLESHIP_HEALTH,m.state.player.battleshipHealth-1):i.ship?.name===r.JY.SUBMARINE&&m.commit(r.mm.SET_PLAYER_HAS_USED_SUBMARINE_ABILITY,!0)}else{const e=JSON.parse(JSON.stringify(i));e.contains.missedShot=!0,m.commit(r.mm.SET_PLAYER_TILE,{row:t,col:_,tile:e})}}for(let e=0;e<t.length;e++)for(let i=0;i<t[e].length;i++)if(t[e][i].ship?.name===r.JY.BATTLESHIP){const _=JSON.parse(JSON.stringify(t[e][i]));_.contains.uncoveredShip=!0,m.commit(r.mm.SET_COMPUTER_TILE,{row:e,col:i,tile:_})}m.commit(r.mm.SET_COMPUTER_HAS_USED_BATTLESHIP_ABILITY,!0),m.commit(r.mm.SET_COMPUTER_IS_USING_BATTLESHIP_ABILITY,!1)}else if(m.state.computer.isUsingAircraftCarrierAbility){while(0!=m.state.computer.aircraftCarrierShots){const t=(0,E.tV)(e),i=e[t.row][t.col];if(i.contains.missedShot)continue;if(i.contains.successfulShot)continue;const _=JSON.parse(JSON.stringify(i));void 0!==i.ship?(_.contains.successfulShot=!0,m.commit(r.mm.SET_PLAYER_TILE,{row:t.row,col:t.col,tile:_}),i.ship?.name===r.JY.AIRCRAFT_CARRIER?m.commit(r.mm.SET_PLAYER_AIRCRAFT_CARRIER_HEALTH,m.state.player.aircraftCarrierHealth-1):i.ship?.name===r.JY.BATTLESHIP?m.commit(r.mm.SET_PLAYER_BATTLESHIP_HEALTH,m.state.player.battleshipHealth-1):i.ship?.name===r.JY.SUBMARINE&&m.commit(r.mm.SET_PLAYER_HAS_USED_SUBMARINE_ABILITY,!0)):(_.contains.missedShot=!0,m.commit(r.mm.SET_PLAYER_TILE,{row:t.row,col:t.col,tile:_})),m.commit(r.mm.SET_COMPUTER_AIRCRAFT_CARRIER_SHOTS,m.state.computer.aircraftCarrierShots-1);let o=!0;for(let m=0;m<e.length;m++)for(let t=0;t<e[m].length;t++)if(void 0!==e[m][t].ship&&!e[m][t].contains.successfulShot){o=!1;break}if(o)return m.commit(r.mm.SET_GAME_IS_IN_PROGRESS,!1),void m.commit(r.mm.SET_COMPUTER_HAS_WON_THE_GAME,!0)}for(let i=0;i<t.length;i++)for(let e=0;e<t[i].length;e++)if(t[i][e].ship?.name===r.JY.AIRCRAFT_CARRIER){const _=JSON.parse(JSON.stringify(t[i][e]));_.contains.uncoveredShip=!0,m.commit(r.mm.SET_COMPUTER_TILE,{row:i,col:e,tile:_})}m.commit(r.mm.SET_COMPUTER_HAS_USED_AIRCRAFT_CARRIER_ABILITY,!0),m.commit(r.mm.SET_COMPUTER_IS_USING_AIRCRAFT_CARRIER_ABILITY,!1)}else{const t=(0,E.tV)(e),i=e[t.row][t.col],_=JSON.parse(JSON.stringify(i));void 0!==_.ship?(_.contains.successfulShot=!0,i.ship?.name===r.JY.AIRCRAFT_CARRIER?m.commit(r.mm.SET_PLAYER_AIRCRAFT_CARRIER_HEALTH,m.state.player.aircraftCarrierHealth-1):i.ship?.name===r.JY.BATTLESHIP?m.commit(r.mm.SET_PLAYER_BATTLESHIP_HEALTH,m.state.player.battleshipHealth-1):i.ship?.name===r.JY.SUBMARINE&&m.commit(r.mm.SET_PLAYER_HAS_USED_SUBMARINE_ABILITY,!0)):_.contains.missedShot=!0,m.commit(r.mm.SET_PLAYER_TILE,{row:t.row,col:t.col,tile:_})}0===m.state.player.aircraftCarrierHealth?m.commit(r.mm.SET_PLAYER_HAS_USED_AIRCRAFT_CARRIER_ABILITY,!0):0===m.state.player.battleshipHealth&&m.commit(r.mm.SET_PLAYER_HAS_USED_BATTLESHIP_ABILITY,!0);let o=!0;for(let i=0;i<e.length;i++)for(let t=0;t<e[i].length;t++)if(void 0!==e[i][t].ship&&!e[i][t].contains.successfulShot){o=!1;break}if(o)return m.commit(r.mm.SET_GAME_IS_IN_PROGRESS,!1),void m.commit(r.mm.SET_COMPUTER_HAS_WON_THE_GAME,!0);m.commit(r.mm.SET_COMPUTER_HAS_CURRENT_TURN,!1),m.commit(r.mm.SET_PLAYER_HAS_CURRENT_TURN,!0)}return(i,m)=>((0,e.wg)(),(0,e.iD)("div",{class:(0,s.C_)((0,_.SU)(o)),onClick:T},[(0,e.Wm)(a.Z,{tile:t.tile,isPlayerSquare:!1},null,8,["tile"])],2))}}),c=m(89);const A=(0,c.Z)(T,[["__scopeId","data-v-7d8c9478"]]);var l=A;const n=["disabled"],R=["disabled"],I=["disabled"];var U=(0,e.aZ)({__name:"AbilityButtons",setup(t){const i=(0,S.oR)(),m=(0,e.Fl)((()=>i.state.computer.hasCurrentTurn||i.state.player.hasUsedSubmarineAbility||i.state.player.isUsingSubmarineAbility||i.state.player.isUsingAircraftCarrierAbility||i.state.player.isUsingBattleshipAbility)),o=(0,e.Fl)((()=>i.state.computer.hasCurrentTurn||i.state.player.hasUsedAircraftCarrierAbility||i.state.player.isUsingSubmarineAbility||i.state.player.isUsingAircraftCarrierAbility||i.state.player.isUsingBattleshipAbility)),a=(0,e.Fl)((()=>i.state.computer.hasCurrentTurn||i.state.player.hasUsedBattleshipAbility||i.state.player.isUsingSubmarineAbility||i.state.player.isUsingAircraftCarrierAbility||i.state.player.isUsingBattleshipAbility)),E=(0,e.Fl)((()=>i.state.player.isUsingSubmarineAbility?"Using Submarine Ability":"Use Submarine Ability")),T=(0,e.Fl)((()=>i.state.player.isUsingAircraftCarrierAbility?"Using Aircraft Carrier Ability":"Use Aircraft Carrier Ability")),c=(0,e.Fl)((()=>i.state.player.isUsingBattleshipAbility?"Using Battleship Ability":"Use Battleship Ability"));return(t,S)=>((0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("button",{disabled:(0,_.SU)(m),onClick:S[0]||(S[0]=t=>(0,_.SU)(i).commit((0,_.SU)(r.mm).SET_PLAYER_IS_USING_SUBMARINE_ABILITY,!0))},(0,s.zw)((0,_.SU)(E)),9,n),(0,e._)("button",{disabled:(0,_.SU)(o),onClick:S[1]||(S[1]=t=>(0,_.SU)(i).commit((0,_.SU)(r.mm).SET_PLAYER_IS_USING_AIRCRAFT_CARRIER_ABILITY,!0))},(0,s.zw)((0,_.SU)(T)),9,R),(0,e._)("button",{disabled:(0,_.SU)(a),onClick:S[2]||(S[2]=t=>(0,_.SU)(i).commit((0,_.SU)(r.mm).SET_PLAYER_IS_USING_BATTLESHIP_ABILITY,!0))},(0,s.zw)((0,_.SU)(c)),9,I)],64))}});const h=U;var p=h,C=(m(7658),m(2483));const u={class:"winner-modal"},L={class:"winner-modal-content"},f={key:0},P={key:1};var H=(0,e.aZ)({__name:"MatchResultModal",setup(t){const i=(0,S.oR)(),m=(0,C.tv)();function o(){i.commit(r.mm.SET_GAME_IS_IN_PROGRESS,!1),i.commit(r.mm.SET_GAME_MAP_NAME,void 0),i.commit(r.mm.SET_GUI_SUBMARINE_COUNT,0),i.commit(r.mm.SET_GUI_SUPPLY_BOAT_COUNT,0),i.commit(r.mm.SET_GUI_DESTROYER_COUNT,0),i.commit(r.mm.SET_GUI_BATTLESHIP_COUNT,0),i.commit(r.mm.SET_GUI_AIRCRAFT_CARRIER_COUNT,0),i.commit(r.mm.SET_PLAYER_IS_USING_SUBMARINE_ABILITY,!1),i.commit(r.mm.SET_PLAYER_IS_USING_AIRCRAFT_CARRIER_ABILITY,!1),i.commit(r.mm.SET_PLAYER_IS_USING_BATTLESHIP_ABILITY,!1),i.commit(r.mm.SET_PLAYER_HAS_USED_SUBMARINE_ABILITY,!1),i.commit(r.mm.SET_PLAYER_HAS_USED_AIRCRAFT_CARRIER_ABILITY,!1),i.commit(r.mm.SET_PLAYER_HAS_USED_BATTLESHIP_ABILITY,!1),i.commit(r.mm.SET_PLAYER_AIRCRAFT_CARRIER_HEALTH,10),i.commit(r.mm.SET_PLAYER_BATTLESHIP_HEALTH,4),i.commit(r.mm.SET_PLAYER_AIRCRAFT_CARRIER_SHOTS,0),i.commit(r.mm.SET_PLAYER_HAS_CURRENT_TURN,!1),i.commit(r.mm.SET_PLAYER_HAS_WON_THE_GAME,!1),i.commit(r.mm.SET_PLAYER_BOARD,[[]]),i.commit(r.mm.SET_COMPUTER_IS_USING_SUBMARINE_ABILITY,!1),i.commit(r.mm.SET_COMPUTER_IS_USING_AIRCRAFT_CARRIER_ABILITY,!1),i.commit(r.mm.SET_COMPUTER_IS_USING_BATTLESHIP_ABILITY,!1),i.commit(r.mm.SET_COMPUTER_HAS_USED_SUBMARINE_ABILITY,!1),i.commit(r.mm.SET_COMPUTER_HAS_USED_AIRCRAFT_CARRIER_ABILITY,!1),i.commit(r.mm.SET_COMPUTER_HAS_USED_BATTLESHIP_ABILITY,!1),i.commit(r.mm.SET_COMPUTER_AIRCRAFT_CARRIER_HEALTH,10),i.commit(r.mm.SET_COMPUTER_BATTLESHIP_HEALTH,4),i.commit(r.mm.SET_COMPUTER_AIRCRAFT_CARRIER_SHOTS,0),i.commit(r.mm.SET_COMPUTER_HAS_CURRENT_TURN,!1),i.commit(r.mm.SET_COMPUTER_HAS_WON_THE_GAME,!1),i.commit(r.mm.SET_COMPUTER_BOARD,[[]]),m.push({name:"Index"})}return(t,m)=>((0,e.wg)(),(0,e.iD)("div",u,[(0,e._)("div",L,[(0,_.SU)(i).state.player.hasWonTheGame?((0,e.wg)(),(0,e.iD)("h2",f," You Win! ")):(0,_.SU)(i).state.computer.hasWonTheGame?((0,e.wg)(),(0,e.iD)("h2",P," You Lose! ")):(0,e.kq)("",!0),(0,e._)("button",{onClick:o}," New Game ")])]))}});const Y=(0,c.Z)(H,[["__scopeId","data-v-1f97b336"]]);var B=Y;const d=t=>((0,e.dD)("data-v-77e02b65"),t=t(),(0,e.Cn)(),t),N={class:"container"},O=d((()=>(0,e._)("h1",null," Battleship Game ",-1))),y={class:"boards"},g={class:"board-wrapper"},b=d((()=>(0,e._)("h2",null," Enemy Board ",-1))),M={class:"board"},w={class:"board-wrapper"},J=d((()=>(0,e._)("h2",null," Player Board ",-1))),v={class:"board"},G={class:"gui"},D=d((()=>(0,e._)("h2",null," GUI ",-1))),F={key:0},k={key:1};var W=(0,e.aZ)({__name:"Game",setup(t){const i=(0,S.oR)();return(t,m)=>((0,e.wg)(),(0,e.iD)(e.HY,null,[(0,_.SU)(i).state.player.hasWonTheGame||(0,_.SU)(i).state.computer.hasWonTheGame?((0,e.wg)(),(0,e.j4)(B,{key:0})):(0,e.kq)("",!0),(0,e._)("div",N,[O,(0,e._)("div",y,[(0,e._)("div",g,[b,(0,e._)("div",M,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)((0,_.SU)(i).state.computer.board,((t,i)=>((0,e.wg)(),(0,e.iD)("div",{key:i,class:"board-row"},[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t,((t,m)=>((0,e.wg)(),(0,e.iD)("div",{key:m,class:"board-cell"},[(0,e.Wm)(l,{tile:t,row:i,col:m},null,8,["tile","row","col"])])))),128))])))),128))])]),(0,e._)("div",w,[J,(0,e._)("div",v,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)((0,_.SU)(i).state.player.board,((t,i)=>((0,e.wg)(),(0,e.iD)("div",{key:i,class:"board-row"},[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t,((t,m)=>((0,e.wg)(),(0,e.iD)("div",{key:m,class:"board-cell"},[(0,e.Wm)(o.Z,{tile:t,row:i,col:m},null,8,["tile","row","col"])])))),128))])))),128))])])]),(0,e._)("div",G,[D,(0,_.SU)(i).state.player.hasCurrentTurn?((0,e.wg)(),(0,e.iD)("h3",F," Your Turn ")):((0,e.wg)(),(0,e.iD)("h3",k," Enemy's Turn ")),(0,e.Wm)(p)])])],64))}});const Z=(0,c.Z)(W,[["__scopeId","data-v-77e02b65"]]);var q=Z}}]);
//# sourceMappingURL=932.8b251eee.js.map